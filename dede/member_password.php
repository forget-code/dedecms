<?php 
require_once(dirname(__FILE__)."/config.php");
?>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>密码类型变换 </title>
<link href="base.css" rel="stylesheet" type="text/css">
</head>
<body background='img/allbg.gif' leftmargin='8' topmargin='8'>
<table width="98%" border="0" cellpadding="3" cellspacing="1" bgcolor="#98CAEF" align="center">
  <form action="member_password_action.php" name="form1" target="stafrm">
    <tr> 
      <td height="20" background='img/tbg.gif'><table width="98%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="30%"><strong><a href="co_main.php"><u>会员管理</u></a> &gt;<A href="member_password.php" target="main"> 密码类型变换</A>：</strong> </td>
          <td align="right">&nbsp;</td>
        </tr>
      </table></td>
    </tr>
    <tr> 
      <td bgcolor="#FFFFFF">
<table width="100%" border="0" cellpadding="2" cellspacing="2">
          <tr bgcolor="#FFFFFF"> 
            <td colspan="4"><img src="img/help.gif" width="16" height="16">密码类型变换用于两种用途：<br>
              1、把dede原来的明文形式密码转为加密的密码；<br>
              2、为导入第三方系统的数据，并整合第三主系统。<br>
              <font color="#FF0000"><strong>注意问题：<br>
              </strong>如果密码选择了MD5类型，以后将无法逆向转换为其它形式（唯一可做的是减短MD5密码长度），如果你要导入phpwind或Discuz数据请用32位MD5(如果仅是整合系统是不需要转换的)。</font></td>
          </tr>
          <tr bgcolor="#EFFAFE"> 
            <td width="18%">密码类型：</td>
            <td colspan="3"> <input type="radio" name="newtype" class="np" value="none"<?php  if($cfg_pwdtype=='none') echo ' checked';?>>
              明文(不加密) 
              <input type="radio" name="newtype" class="np" value="md5"<?php  if($cfg_pwdtype=='md5') echo ' checked';?>>
              MD5加密 
              <input type="radio" name="newtype" class="np" value="md5m16"<?php  if($cfg_pwdtype=='md5m16') echo ' checked';?>>
              MD5中间16位
              <input type="radio" name="newtype" class="np" value="dd"<?php  if($cfg_pwdtype=='dd') echo ' checked';?>>
              Dede算法
              </td>
          </tr>
          <tr> 
            <td>MD5长度：</td>
            <td width="27%">
            	<input name="newmd5len" type="text" id="newmd5len" value="<?php echo $cfg_md5len?>">
            	
            </td>
            <td width="14%">Dede加密密钥：</td>
            <td width="41%"><input name="newsign" type="text" id="newsign" value="<?php echo $cfg_ddsign?>"> 
            </td>
          </tr>
          <tr>
            <td height="29">安全确认码：</td>
            <td colspan="3"><table width="300"  border="0" cellspacing="0" cellpadding="0">
                <tr> 
                  <td width="90"><input type="text" name="validate" style="width:80;height:20"></td>
                  <td><img src='../include/vdimgck.php' width='50' height='20'></td>
                </tr>
              </table></td>
          </tr>
          <tr> 
            <td height="29">附加选项：</td>
            <td colspan="3">
			<input name="notcdata" type="checkbox" id="notcdata" value="1" class="np" checked>无数据转换(仅修改配置)
			 </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr> 
      <td height="31" bgcolor="#F8FBFB" align="center">
	  <input type="submit" name="Submit" value="开始转换密码类型" class="nbt"> 
      </td>
    </tr>
  </form>
  <tr bgcolor="#E5F9FF"> 
    <td height="20"> <table width="100%">
        <tr> 
          <td width="74%"><strong>结果：</strong></td>
          <td width="26%" align="right"> <script language='javascript'>
            	function ResizeDiv(obj,ty)
            	{
            		if(ty=="+") document.all[obj].style.pixelHeight += 50;
            		else if(document.all[obj].style.pixelHeight>80) document.all[obj].style.pixelHeight = document.all[obj].style.pixelHeight - 50;
            	}
            	</script>
            [<a href='#' onClick="ResizeDiv('mdv','+');">增大</a>] [<a href='#' onClick="ResizeDiv('mdv','-');">缩小</a>] 
          </td>
        </tr>
      </table></td>
  </tr>
  <tr bgcolor="#FFFFFF"> 
    <td id="mtd"> <div id='mdv' style='width:100%;height:100;'> 
        <iframe name="stafrm" frameborder="0" id="stafrm" width="100%" height="100%"></iframe>
      </div>
      <script language="JavaScript">
	  document.all.mdv.style.pixelHeight = screen.height - 420;
	  </script> </td>
  </tr>
</table>
</body>
</html>
